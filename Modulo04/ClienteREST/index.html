<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>LISTA DE PRODUCTOS</h1>
    <div>
        <button type="button" id="btnCargar">Cargar Productos</button>
    </div>
    <div>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>NOMBRE</th>
                    <th>PRECIO</th>
                </tr>
            </thead>
            <tbody id="tablaDatos">
            </TBody>
        </table>
    </div>



    <script>
        window.addEventListener("load", function () {
            lista();
        });

        const lista = async () => {
            const response = await fetch("http://localhost:8080/producto")
            const datos = await response.json();
            console.log(datos);
            try {
                let tableaBody = '';
                datos.forEach((item) => {
                    tableaBody += '<tr>' +
                        '<td>' + [item.id] + '</td>' +
                        '<td>' + [item.nombre] + '</td>' +
                        '<td>' + [item.precio] + '</td>' +
                        '</tr>'
                });
                tablaDatos.innerHTML = tableaBody;
            } catch (error) {
                console.log(error);
            }
        };

    </script>


</body>

</html>